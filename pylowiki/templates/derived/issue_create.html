<%inherit file = "/base/template.html"/>

<% counter = 1 %> 
<% numrows = 10 %>
<% numcols = 10 %>

    <div class="banner_div">
        <h2 class="banner">Create Workshop</h2>
    </div>

<form id="create_issue" class="left" action = "/workshop/addWorkshopHandler" enctype="multipart/form-data" method="post" >
##<form id="create_issue" class="left" action = "/addIssue/handler" method = "post">
##${h.form(h.url(controller = "addIssue", action="handler"), method="post", id="create_issue")}
    <strong class="gray">Basic Information</strong>
    <br /><br />
    Workshop Name: <span class="darkorange">*</span>
    <br />
    <input type="text" name = "workshopName"/>
    <br /><br />
    
    <input type="radio" name="publicPrivate" value="public" /> Public<br />
    <input type="radio" name="publicPrivate" value="private" /> Private<br />
    
    ## Below is the code needed to set up the old issues.
    <%doc>
    <div id="government_sphere" class="left">
        Government Sphere: <span class="darkorange">*</span>
        <br />
        <div class="select">
            <select class="left" name = "governmentSpheres">
                <option value="">select existing</option>
                % for item in c.governmentSpheres:
                    <option value="${item['id']}">${item["name"]}</option>
                % endfor
            </select>
        </div>
        <div class="left" id="create_new">
            <em>create new</em>
            <br /><br />
            Name:
            <br />
            <input type="text" class="wide" name = "newGovtSphereName"/>
            <br /><br />
            Photo:
            <br />
            ##<input type="file" class="gray" name = "newGovtSpherePhoto"/>
            ${h.file("newGovtSpherePhoto")}
            <br /><br />
        </div> <!-- create_new -->
    </div> <!-- government sphere -->
    
    <div id="goals" class="clr">
        Goals: <span class="darkorange">*</span>
        <br />
        <div style="display:inline; text-align:center;" id="textareadiv${counter}">
            <br />
            <textarea rows="${numrows}" cols="${numcols}" id="textarea${counter}" name="goals" onkeyup="previewAjax( 'textarea${counter}', 'section${counter}' )" class="markitup"></textarea>
            <% counter = counter + 1 %>
        </div>
    </div>    
    
    <div id="end-dates">
        Workshop end date: <span class="darkorange">*</span>
        <table>
            <tr>
                <td>End date:</td>
                <td>
                    <div class="select">
                        <select class="gray" name = "workshopMonth">
                            <option value="">Month</option>
                            <% i = 1 %>
                            % for item in c.months:
                                <option value="${i}">${item}</option>
                                <% i += 1 %>
                            % endfor
                        </select>
                    </div>
                </td>
                
                <td>
                    <div class="select">
                        <select class="gray" name = "workshopDay">
                            <option value="">Day</option>
                            % for item in c.days:
                                <option value="${item}">${item}</option>
                            % endfor
                        </select>
                    </div>
                </td>
                
                <td>
                    <div class="select">
                        <select class="gray" name = "workshopYear">
                            <option value="">Year</option>
                            % for item in c.years:
                                <option value="${item}">${item}</option>
                            % endfor
                        </select>
                    </div>
                </td>
            </tr>
            
            <tr>
                <td>Solution</td>
                <td>
                    <div class="select">
                        <select class="gray" name = "solutionMonth">
                            <option value="">Month</option>
                            <% i = 1 %>
                            % for item in c.months:
                                <option value="${i}">${item}</option>
                                <% i += 1 %>
                            % endfor
                        </select>
                    </div>
                </td>
                
                <td>
                    <div class="select">
                        <select class="gray" name = "solutionDay">
                            <option value="">Day</option>
                            % for item in c.days:
                                <option value="${item}">${item}</option>
                            % endfor
                        </select>
                    </div>
                </td>
                
                <td>
                    <div class="select">
                        <select class="gray" name = "solutionYear">
                            <option value="">Year</option>
                            % for item in c.years:
                                <option value="${item}">${item}</option>
                            % endfor
                        </select>
                    </div>
                </td>
            </tr>
            
            <tr>
                <td>Solution Package</td>
                <td>
                    <div class="select">
                        <select class="gray" name = "solutionPkgMonth">
                            <option value="">Month</option>
                            <% i = 1 %>
                            % for item in c.months:
                                <option value="${i}">${item}</option>
                                <% i += 1 %>
                            % endfor
                        </select>
                    </div>
                </td>
                
                <td>
                    <div class="select">
                        <select class="gray" name = "solutionPkgDay">
                            <option value="">Day</option>
                            % for item in c.days:
                                <option value="${item}">${item}</option>
                            % endfor
                        </select>
                    </div>
                </td>
                
                <td>
                    <div class="select">
                        <select class="gray" name = "solutionPkgYear">
                            <option value="">Year</option>
                            % for item in c.years:
                                <option value="${item}">${item}</option>
                            % endfor
                        </select>
                    </div>
                </td>
            </tr>
        </table>
    </div><!-- end-dates -->
    <hr />
    <div id="background_wiki">
        <strong class="gray">Background Wiki</strong>
        <br /><br />
        <div style="display:inline; text-align:center;" id="textareadiv${counter}">
            <br />
            <textarea rows="${numrows}" cols = "${numcols}"id="textarea${counter}" name="backgroundWiki" onkeyup="previewAjax( 'textarea${counter}', 'section${counter}' )" class="markitup"></textarea>
        </div>
    ##</div>
        
    </div> <!-- background_wiki -->
    <hr />
    <div id="issue_slideshow">
        <strong class="gray">Issue Slideshow</strong>
        <br />
        Number of entries:
        <select class="gray" name = "numSlideshowEntries">
            % for i in range(1, c.maxSlideshowEntries + 1):
                <option value="${i}">${i}</option>
            % endfor
        </select>
    </div>
    </%doc>
    <button type="submit" class="gold">Next Page</button>
</form>

            
<%def name = 'extraHTML()'>

</%def>
            
<%def name = 'extraStyles()'>
    <link type="text/css" rel="stylesheet" href="${h.url_for('/styles/issue_create.css')}" />
    <link type="text/css" rel="stylesheet" href="${h.url_for('/js/markitup/skins/simple/style.css')}" />
    <link type="text/css" rel="stylesheet" href="${h.url_for('/js/markitup/sets/rst/style.css')}" />
    <link type="text/css" rel="stylesheet" href="${h.url_for('/css/pygments/pygments-tango.css')}" />
</%def>

<%def name = 'extraScripts()'>
    <script src="${h.url_for('/js/h2banner.js')}" type="text/javascript"></script>
    <script src = "${h.url_for('/js/markitup/jquery.markitup.js')}" type="text/javascript"></script>
    <script src = "${h.url_for('/js/markitup/sets/rst/set.js')}" type="text/javascript"></script>
    <script src = "${h.url_for('/js/javascript.js')}" type="text/javascript"></script>
    
    <script language="javascript">
        $(document).ready(function()	{
            $(".markitup").markItUp(mySettings);
        });
    </script>
    
</%def>
