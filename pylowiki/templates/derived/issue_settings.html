<%inherit file = "/base/template.html"/>

<% counter = 1 %> 
<% numrows = 10 %>
<% numcols = 10 %>

    <div class="banner_div">
        <h2 class="banner"><a href = "/workshop/${c.w['urlCode']}/${c.w['url']}">${c.title}</a></h2>
    </div>     

<form id="edit_issue" class="left" action = "/workshop/${c.w['urlCode']}/${c.w['url']}/editWorkshopHandler" enctype="multipart/form-data" method="post" >

    <strong class="gray">Edit Workshop Settings</strong>
    <br /><br />
    Workshop Name: <span class="darkorange">*</span>
    <br />
    <input type="text" name = "workshopName" value = "${c.title}"/>
    <br />
    Workshop Goals: <span class="darkorange">*</span>
    <br />
    <input type="text" name = "goals" value = "${c.w['goals']}"/>
    <br /><br />
    
    Workshop Home ZipCode: <span class="darkorange">*</span>
    <br />
    <input type="text" name = "publicPostal" value = "${c.w['publicPostal']}"/>

    <br /><br />
    <br /><br />
    Who can participate in this workshop: <span class="darkorange">*</span>
    <br />
    % if c.w['publicScope'] == '10':
        <% checked = 'checked' %>
     % else:
        <% checked = 'unchecked' %>
     % endif
    People in <input type="radio" name = "publicScope" value = "10" ${checked} /> My ZipCode &nbsp;&nbsp;&nbsp;
    % if c.w['publicScope'] == '09':
        <% checked = 'checked' %>
     % else:
        <% checked = 'unchecked' %>
     % endif
    <input type="radio" name = "publicScope" value = "09" ${checked} /> My City &nbsp;&nbsp;&nbsp;
    % if c.w['publicScope'] == '07':
        <% checked = 'checked' %>
     % else:
        <% checked = 'unchecked' %>
     % endif
    <input type="radio" name = "publicScope" value = "07" ${checked} /> My County &nbsp;&nbsp;&nbsp;
    % if c.w['publicScope'] == '05':
        <% checked = 'checked' %>
     % else:
        <% checked = 'unchecked' %>
     % endif
    <input type="radio" name = "publicScope" value = "05" ${checked} /> My State &nbsp;&nbsp;&nbsp;
    % if c.w['publicScope'] == '03':
        <% checked = 'checked' %>
     % else:
        <% checked = 'unchecked' %>
     % endif
    <input type="radio" name = "publicScope" value = "03" ${checked} /> My Country &nbsp;&nbsp;&nbsp;
    % if c.w['publicScope'] == '01':
        <% checked = 'checked' %>
     % else:
        <% checked = 'unchecked' %>
     % endif
    <input type="radio" name = "publicScope" value = "01" ${checked} /> My Planet &nbsp;&nbsp;&nbsp;
    <br /><br />
    OR
    <br /><br />
    People in these zip codes: <span class="darkorange">*</span>
    <br />
    Enter at least one zip code:
    <input type="text" name = "publicPostalList" value = "${c.w['publicPostalList']}"/>
    
    <br /><br />
    Workshop Tags: <span class="darkorange">*</span>
    <br />
    <% tags = c.w['publicTags'] %>
    <% workshopTags = tags.split(',') %>
    Choose at least one from the list below<br /> 
    % if 'Environment' in workshopTags:
        <% checked = 'checked' %>
     % else:
        <% checked = 'unchecked' %>
     % endif
    <input type="checkbox" name="publicTags" value="Environment" ${checked} /> Environment &nbsp;&nbsp;&nbsp;
    % if 'Government' in workshopTags:
        <% checked = 'checked' %>
     % else:
        <% checked = 'unchecked' %>
     % endif
    <input type="checkbox" name="publicTags" value="Government" ${checked} /> Government &nbsp;&nbsp;&nbsp;
    % if 'Municipal Services' in workshopTags:
        <% checked = 'checked' %>
     % else:
        <% checked = 'unchecked' %>
     % endif
    <input type="checkbox" name="publicTags" value="Municipal Services" ${checked} /> Municipal Services &nbsp;&nbsp;&nbsp;
    <input type="checkbox" name="publicTags" value="Economy" ${checked} /> Economy &nbsp;&nbsp;&nbsp;
    % if 'Economy' in workshopTags:
        <% checked = 'checked' %>
     % else:
        <% checked = 'unchecked' %>
     % endif
    <input type="checkbox" name="publicTags" value="Infrastructure" ${checked} /> Infrastructure &nbsp;&nbsp;&nbsp;
    % if 'Civil Rights' in workshopTags:
        <% checked = 'checked' %>
     % else:
        <% checked = 'unchecked' %>
     % endif
    <input type="checkbox" name="publicTags" value="Civil Rights" ${checked} /> Civil Rights &nbsp;&nbsp;&nbsp;
    <input type="checkbox" name="publicTags" value="Civic Response" ${checked} /> Civic Response &nbsp;&nbsp;&nbsp;
    % if 'Business' in workshopTags:
        <% checked = 'checked' %>
     % else:
        <% checked = 'unchecked' %>
     % endif
    <input type="checkbox" name="publicTags" value="Business" ${checked} /> Business
    <br />
    <br />
    Additional Workshop Tags: <span class="darkorange">*</span>
    <br />
    Enter at least one, separate multiple tags with a comma:</br />
    <input type="text" name = "memberTags" value = "${c.w['memberTags']}"/>
    <br /><br />
    
    ## Below is the code needed to set up the old issues.
    <%doc>
    <div id="government_sphere" class="left">
        Government Sphere: <span class="darkorange">*</span>
        <br />
        <div class="select">
            <select class="left" name = "governmentSpheres">
                <option value="">select existing</option>
                % for item in c.governmentSpheres:
                    <option value="${item['id']}">${item["name"]}</option>
                % endfor
            </select>
        </div>
        <div class="left" id="create_new">
            <em>create new</em>
            <br /><br />
            Name:
            <br />
            <input type="text" class="wide" name = "newGovtSphereName"/>
            <br /><br />
            Photo:
            <br />
            ##<input type="file" class="gray" name = "newGovtSpherePhoto"/>
            ${h.file("newGovtSpherePhoto")}
            <br /><br />
        </div> <!-- create_new -->
    </div> <!-- government sphere -->
    
    <div id="goals" class="clr">
        Goals: <span class="darkorange">*</span>
        <br />
        <div style="display:inline; text-align:center;" id="textareadiv${counter}">
            <br />
            <textarea rows="${numrows}" cols="${numcols}" id="textarea${counter}" name="goals" onkeyup="previewAjax( 'textarea${counter}', 'section${counter}' )" class="markitup"></textarea>
            <% counter = counter + 1 %>
        </div>
    </div>    
    
    <div id="end-dates">
        Workshop end date: <span class="darkorange">*</span>
        <table>
            <tr>
                <td>End date:</td>
                <td>
                    <div class="select">
                        <select class="gray" name = "workshopMonth">
                            <option value="">Month</option>
                            <% i = 1 %>
                            % for item in c.months:
                                <option value="${i}">${item}</option>
                                <% i += 1 %>
                            % endfor
                        </select>
                    </div>
                </td>
                
                <td>
                    <div class="select">
                        <select class="gray" name = "workshopDay">
                            <option value="">Day</option>
                            % for item in c.days:
                                <option value="${item}">${item}</option>
                            % endfor
                        </select>
                    </div>
                </td>
                
                <td>
                    <div class="select">
                        <select class="gray" name = "workshopYear">
                            <option value="">Year</option>
                            % for item in c.years:
                                <option value="${item}">${item}</option>
                            % endfor
                        </select>
                    </div>
                </td>
            </tr>
            
            <tr>
                <td>Solution</td>
                <td>
                    <div class="select">
                        <select class="gray" name = "solutionMonth">
                            <option value="">Month</option>
                            <% i = 1 %>
                            % for item in c.months:
                                <option value="${i}">${item}</option>
                                <% i += 1 %>
                            % endfor
                        </select>
                    </div>
                </td>
                
                <td>
                    <div class="select">
                        <select class="gray" name = "solutionDay">
                            <option value="">Day</option>
                            % for item in c.days:
                                <option value="${item}">${item}</option>
                            % endfor
                        </select>
                    </div>
                </td>
                
                <td>
                    <div class="select">
                        <select class="gray" name = "solutionYear">
                            <option value="">Year</option>
                            % for item in c.years:
                                <option value="${item}">${item}</option>
                            % endfor
                        </select>
                    </div>
                </td>
            </tr>
            
            <tr>
                <td>Solution Package</td>
                <td>
                    <div class="select">
                        <select class="gray" name = "solutionPkgMonth">
                            <option value="">Month</option>
                            <% i = 1 %>
                            % for item in c.months:
                                <option value="${i}">${item}</option>
                                <% i += 1 %>
                            % endfor
                        </select>
                    </div>
                </td>
                
                <td>
                    <div class="select">
                        <select class="gray" name = "solutionPkgDay">
                            <option value="">Day</option>
                            % for item in c.days:
                                <option value="${item}">${item}</option>
                            % endfor
                        </select>
                    </div>
                </td>
                
                <td>
                    <div class="select">
                        <select class="gray" name = "solutionPkgYear">
                            <option value="">Year</option>
                            % for item in c.years:
                                <option value="${item}">${item}</option>
                            % endfor
                        </select>
                    </div>
                </td>
            </tr>
        </table>
    </div><!-- end-dates -->
    <hr />
    <div id="background_wiki">
        <strong class="gray">Background Wiki</strong>
        <br /><br />
        <div style="display:inline; text-align:center;" id="textareadiv${counter}">
            <br />
            <textarea rows="${numrows}" cols = "${numcols}"id="textarea${counter}" name="backgroundWiki" onkeyup="previewAjax( 'textarea${counter}', 'section${counter}' )" class="markitup"></textarea>
        </div>
    ##</div>
        
    </div> <!-- background_wiki -->
    <hr />
    <div id="issue_slideshow">
        <strong class="gray">Issue Slideshow</strong>
        <br />
        Number of entries:
        <select class="gray" name = "numSlideshowEntries">
            % for i in range(1, c.maxSlideshowEntries + 1):
                <option value="${i}">${i}</option>
            % endfor
        </select>
    </div>
    </%doc>
    <button type="submit" class="gold">Submit</button>
</form>

            
<%def name = 'extraHTML()'>

</%def>
            
<%def name = 'extraStyles()'>
    <link type="text/css" rel="stylesheet" href="${h.url_for('/styles/issue_create.css')}" />
    <link type="text/css" rel="stylesheet" href="${h.url_for('/js/markitup/skins/simple/style.css')}" />
    <link type="text/css" rel="stylesheet" href="${h.url_for('/js/markitup/sets/rst/style.css')}" />
    <link type="text/css" rel="stylesheet" href="${h.url_for('/css/pygments/pygments-tango.css')}" />
</%def>

<%def name = 'extraScripts()'>
    <script src="${h.url_for('/js/h2banner.js')}" type="text/javascript"></script>
    <script src = "${h.url_for('/js/markitup/jquery.markitup.js')}" type="text/javascript"></script>
    <script src = "${h.url_for('/js/markitup/sets/rst/set.js')}" type="text/javascript"></script>
    <script src = "${h.url_for('/js/javascript.js')}" type="text/javascript"></script>
    
    <script language="javascript">
        $(document).ready(function()	{
            $(".markitup").markItUp(mySettings);
        });
    </script>
    
    <script>
        $(function(){
            $("#photo_container").slides({
                preload: true,
                generatePagination: false
            });
        });
    </script>
</%def>
